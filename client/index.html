<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Stripe Payment</title>
        <meta name="description" content="A demo of Stripe" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="css/normalize.css" />
        <link rel="stylesheet" href="css/global.css" />
        <script src="https://js.stripe.com/v3/"></script>
        <script src="/payment.js"></script>
    </head>
    <body>
        <div class="sr-root">
            <div class="sr-main">
                <h1>Pay Me</h1>
                <form action="" id="payment-form" class="sr-payment-form">
                    <div class="sr-amount-options">
                        <label>
                            <input
                                type="radio"
                                name="amount"
                                value="1"
                                class="sr-radio-input"
                            />
                            $1
                        </label>
                        <label>
                            <input
                                type="radio"
                                name="amount"
                                value="5"
                                class="sr-radio-input"
                            />
                            $5
                        </label>
                        <label>
                            <input
                                type="radio"
                                name="amount"
                                value="20"
                                class="sr-radio-input"
                            />
                            $20
                        </label>
                        <label>
                            <input
                                type="radio"
                                name="amount"
                                value="custom"
                                class="sr-radio-input"
                            />
                            Custom
                        </label>
                        <div class="sr-custom-amount" id="custom-amount">
                            <span class="sr-currency-symbol">$</span>
                            <input
                                class="sr-input"
                                type="number"
                                id="custom-amount-input"
                                name="custom-amount"
                                min="1"
                                step="0.01"
                            />
                        </div>
                    </div>
                    <div id="payment-element" class="sr-card-element"></div>
                    <div id="error-messages" class="sr-field-error"></div>
                    <button>Pay</button>
                </form>
            </div>
        </div>
        <script>
            // JavaScript to show/hide custom amount input field
            document.querySelectorAll(".sr-radio-input").forEach((input) => {
                input.addEventListener("change", () => {
                    const customAmountField =
                        document.getElementById("custom-amount");
                    if (input.value === "custom") {
                        customAmountField.style.display = "flex";
                    } else {
                        customAmountField.style.display = "none";
                    }
                });
            });
        </script>
    </body>
</html>
